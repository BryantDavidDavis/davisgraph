var deletebutton=$("<a class='item'><i class='fi-trash'></i></a>").css({position:"absolute",top:"10px",right:"5px",color:"red"}),finishedbutton=$("<ul class='small-block-grid-2 small-centered medium-block-grid-4 large-block-grid-6 columns centered'><li><a id='finished-button' class='button small info'>Finished</a></li></ul>"),rotatebutton=$("<a class='item'><i class='fi-loop'></i></a>").css({position:"absolute",top:"10px",right:"5px",color:"aluminum"}),mycheckbox='<input class="show-on-trip-toggle" type="checkbox">',displayButton=function(t){$(".th-equal").append(t)};$("#photos-delete").on("click",function(t){t.preventDefault(),displayButton(deletebutton),$(finishedbutton).insertBefore($(".photo-album")),$(".exit-off-canvas").trigger("click"),$(".th-equal").on("click",".item",function(t){t.preventDefault();var o=$(this).closest("a.th-equal"),e=o.attr("photo-id");$.ajax({url:"/photos/photoDestroy",type:"get",data:{id:e},success:function(){o.closest("li").remove()},error:function(t){alert(t.responseText)}})}),$(".main-section").on("click","#finished-button",function(){$(".th-equal").off().find(".item").remove(),$(".main-section").find("#finished-button").closest("ul").remove()})}),$("#photos-rotate").on("click",function(t){t.preventDefault(),displayButton(rotatebutton),$(finishedbutton).insertBefore($(".photo-album")),$(".exit-off-canvas").trigger("click"),$(".th-equal").on("click",".item",function(t){t.preventDefault();var o=$(this).closest("a.th-equal"),e=o.attr("photo-id");$.ajax({url:"/photos/photoRotate",type:"get",data:{id:e},success:function(t){o.css({"background-image":"url("+t.encoded+")"})},error:function(t){alert(t.responseText)}})}),$(".main-section").on("click","#finished-button",function(){$(".th-equal").off().find(".item").remove(),$(".main-section").find("#finished-button").closest("ul").remove()})}),$("#photos-show-on-trip").on("click",function(t){t.preventDefault(),displayButton(mycheckbox),$(finishedbutton).insertBefore($(".photo-album"));var o=$("[photo-id]").map(function(){return $(this).attr("photo-id")}).get();$.ajax({url:"/photos/showTripStatus",type:"get",data:{ids:o},success:function(t){$.each(t,function(){var t=$("[photo-id='"+this.photo_id+"']");1===this.status?(console.log("box for photo number: "+this.photo_id+" should be checked"),t.find(".show-on-trip-toggle").prop("checked",!0)):t.find(".show-on-trip-toggle").prop("checked",!1)})},error:function(t){alert(t.responseText)}}),$(".exit-off-canvas").trigger("click"),$(".th-equal").on("change",".show-on-trip-toggle",function(t){var o=$(t.target).prop("checked"),e=$(this).closest("a.th-equal"),i=e.attr("photo-id");$.ajax({url:"/photos/photoToggleTripShow",type:"get",data:{id:i,showme:o},success:function(){},error:function(t){alert(t.responseText)}})}),$(".main-section").on("click","#finished-button",function(){$(".th-equal").off().find(".show-on-trip-toggle").remove(),$(".main-section").find("#finished-button").closest("ul").remove()})});